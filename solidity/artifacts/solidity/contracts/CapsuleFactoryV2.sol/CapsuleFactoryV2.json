{
  "_format": "hh-sol-artifact-1",
  "contractName": "CapsuleFactoryV2",
  "sourceName": "solidity/contracts/CapsuleFactoryV2.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_veritusNode",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "capsuleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "storyTitle",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "yield",
          "type": "uint256"
        }
      ],
      "name": "CapsuleCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "capsuleId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sealedBy",
          "type": "address"
        }
      ],
      "name": "CapsuleSealed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "capsuleId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "yieldValue",
          "type": "uint256"
        }
      ],
      "name": "YieldAssigned",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "capsuleId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "finalYield",
          "type": "uint256"
        }
      ],
      "name": "assignYield",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "capsuleCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "capsules",
      "outputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "contentHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "storyTitle",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "storySummary",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "emotionalYield",
          "type": "uint256"
        },
        {
          "internalType": "enum CapsuleFactoryV2.CapsuleStatus",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "contentHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "storyTitle",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "storySummary",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "yieldEstimate",
          "type": "uint256"
        }
      ],
      "name": "createCapsule",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "capsuleId",
          "type": "uint256"
        }
      ],
      "name": "getCapsule",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "creator",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "contentHash",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "storyTitle",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "storySummary",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "createdAt",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "emotionalYield",
              "type": "uint256"
            },
            {
              "internalType": "enum CapsuleFactoryV2.CapsuleStatus",
              "name": "status",
              "type": "uint8"
            }
          ],
          "internalType": "struct CapsuleFactoryV2.Capsule",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "capsuleId",
          "type": "uint256"
        }
      ],
      "name": "sealCapsule",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newVeritusNode",
          "type": "address"
        }
      ],
      "name": "updateVeritus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "veritusNode",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610eae380380610eae83398101604081905261002f91610054565b600080546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610e1b806100936000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063434febb91161005b578063434febb914610109578063517bbf461461011c57806358466a44146101425780637aed504b1461015557600080fd5b806305dc03941461008d5780632de7036e146100a95780633aac3858146100d45780633b42125d146100f4575b600080fd5b61009660015481565b6040519081526020015b60405180910390f35b6000546100bc906001600160a01b031681565b6040516001600160a01b0390911681526020016100a0565b6100e76100e23660046108d5565b610168565b6040516100a0919061096c565b6101076101023660046108d5565b6103c9565b005b610107610117366004610a08565b61046a565b61012f61012a3660046108d5565b610514565b6040516100a09796959493929190610a2a565b610107610150366004610b3f565b6106f6565b610107610163366004610bcf565b610833565b61017061087f565b60015482111561019b5760405162461bcd60e51b815260040161019290610bff565b60405180910390fd5b600082815260026020908152604091829020825160e0810190935280546001600160a01b0316835260018101805491928401916101d790610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461020390610c28565b80156102505780601f1061022557610100808354040283529160200191610250565b820191906000526020600020905b81548152906001019060200180831161023357829003601f168201915b5050505050815260200160028201805461026990610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461029590610c28565b80156102e25780601f106102b7576101008083540402835291602001916102e2565b820191906000526020600020905b8154815290600101906020018083116102c557829003601f168201915b505050505081526020016003820180546102fb90610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461032790610c28565b80156103745780601f1061034957610100808354040283529160200191610374565b820191906000526020600020905b81548152906001019060200180831161035757829003601f168201915b50505091835250506004820154602082015260058201546040820152600682015460609091019060ff1660028111156103af576103af610934565b60028111156103c0576103c0610934565b90525092915050565b6000546001600160a01b031633146103f35760405162461bcd60e51b815260040161019290610c62565b6001548111156104155760405162461bcd60e51b815260040161019290610bff565b600081815260026020908152604091829020600601805460ff19166001179055905133815282917f4b1ba33802ce330469edd735c6dda0c1a283dd954a17d8a3bf8836ee426ea0f8910160405180910390a250565b6000546001600160a01b031633146104945760405162461bcd60e51b815260040161019290610c62565b6001548211156104b65760405162461bcd60e51b815260040161019290610bff565b60008281526002602081815260409283902060058101859055600601805460ff1916909217909155905182815283917f6295ac759c076db61f2baff6c3a9b894fcab9d8f00b5fe1f22e337ee72495536910160405180910390a25050565b600260205260009081526040902080546001820180546001600160a01b03909216929161054090610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461056c90610c28565b80156105b95780601f1061058e576101008083540402835291602001916105b9565b820191906000526020600020905b81548152906001019060200180831161059c57829003601f168201915b5050505050908060020180546105ce90610c28565b80601f01602080910402602001604051908101604052809291908181526020018280546105fa90610c28565b80156106475780601f1061061c57610100808354040283529160200191610647565b820191906000526020600020905b81548152906001019060200180831161062a57829003601f168201915b50505050509080600301805461065c90610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461068890610c28565b80156106d55780601f106106aa576101008083540402835291602001916106d5565b820191906000526020600020905b8154815290600101906020018083116106b857829003601f168201915b50505050600483015460058401546006909401549293909290915060ff1687565b6001805490600061070683610c8d565b90915550506040805160e081018252338152602081018690529081018490526060810183905242608082015260a0810182905260c0810160009052600180546000908152600260209081526040909120835181546001600160a01b0319166001600160a01b039091161781559083015190918201906107859082610d03565b506040820151600282019061079a9082610d03565b50606082015160038201906107af9082610d03565b506080820151600482015560a0820151600582015560c082015160068201805460ff191660018360028111156107e7576107e7610934565b0217905550506001546040513392507f52123f5d858f84e2b97af25fb8d16a9b34b5efad3f2ec70bf6283761224bbcd7906108259087908690610dc3565b60405180910390a350505050565b6000546001600160a01b0316331461085d5760405162461bcd60e51b815260040161019290610c62565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6040518060e0016040528060006001600160a01b031681526020016060815260200160608152602001606081526020016000815260200160008152602001600060028111156108d0576108d0610934565b905290565b6000602082840312156108e757600080fd5b5035919050565b6000815180845260005b81811015610914576020818501810151868301820152016108f8565b506000602082860101526020601f19601f83011685010191505092915050565b634e487b7160e01b600052602160045260246000fd5b6003811061096857634e487b7160e01b600052602160045260246000fd5b9052565b602080825282516001600160a01b03168282015282015160e0604083015260009061099b6101008401826108ee565b90506040840151601f19808584030160608601526109b983836108ee565b92506060860151915080858403016080860152506109d782826108ee565b915050608084015160a084015260a084015160c084015260c0840151610a0060e085018261094a565b509392505050565b60008060408385031215610a1b57600080fd5b50508035926020909101359150565b6001600160a01b038816815260e060208201819052600090610a4e908301896108ee565b8281036040840152610a6081896108ee565b90508281036060840152610a7481886108ee565b9150508460808301528360a0830152610a9060c083018461094a565b98975050505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610ac357600080fd5b813567ffffffffffffffff80821115610ade57610ade610a9c565b604051601f8301601f19908116603f01168101908282118183101715610b0657610b06610a9c565b81604052838152866020858801011115610b1f57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060008060808587031215610b5557600080fd5b843567ffffffffffffffff80821115610b6d57600080fd5b610b7988838901610ab2565b95506020870135915080821115610b8f57600080fd5b610b9b88838901610ab2565b94506040870135915080821115610bb157600080fd5b50610bbe87828801610ab2565b949793965093946060013593505050565b600060208284031215610be157600080fd5b81356001600160a01b0381168114610bf857600080fd5b9392505050565b6020808252600f908201526e496e76616c69642063617073756c6560881b604082015260600190565b600181811c90821680610c3c57607f821691505b602082108103610c5c57634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252601190820152704f6e6c792056657269747573206e6f646560781b604082015260600190565b600060018201610cad57634e487b7160e01b600052601160045260246000fd5b5060010190565b601f821115610cfe57600081815260208120601f850160051c81016020861015610cdb5750805b601f850160051c820191505b81811015610cfa57828155600101610ce7565b5050505b505050565b815167ffffffffffffffff811115610d1d57610d1d610a9c565b610d3181610d2b8454610c28565b84610cb4565b602080601f831160018114610d665760008415610d4e5750858301515b600019600386901b1c1916600185901b178555610cfa565b600085815260208120601f198616915b82811015610d9557888601518255948401946001909101908401610d76565b5085821015610db35787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000610dd660408301856108ee565b9050826020830152939250505056fea2646970667358221220cf1fa65b587ec2911ac647af3d6ffe596f5bad4376d586eacfe06f476f128c9664736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c8063434febb91161005b578063434febb914610109578063517bbf461461011c57806358466a44146101425780637aed504b1461015557600080fd5b806305dc03941461008d5780632de7036e146100a95780633aac3858146100d45780633b42125d146100f4575b600080fd5b61009660015481565b6040519081526020015b60405180910390f35b6000546100bc906001600160a01b031681565b6040516001600160a01b0390911681526020016100a0565b6100e76100e23660046108d5565b610168565b6040516100a0919061096c565b6101076101023660046108d5565b6103c9565b005b610107610117366004610a08565b61046a565b61012f61012a3660046108d5565b610514565b6040516100a09796959493929190610a2a565b610107610150366004610b3f565b6106f6565b610107610163366004610bcf565b610833565b61017061087f565b60015482111561019b5760405162461bcd60e51b815260040161019290610bff565b60405180910390fd5b600082815260026020908152604091829020825160e0810190935280546001600160a01b0316835260018101805491928401916101d790610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461020390610c28565b80156102505780601f1061022557610100808354040283529160200191610250565b820191906000526020600020905b81548152906001019060200180831161023357829003601f168201915b5050505050815260200160028201805461026990610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461029590610c28565b80156102e25780601f106102b7576101008083540402835291602001916102e2565b820191906000526020600020905b8154815290600101906020018083116102c557829003601f168201915b505050505081526020016003820180546102fb90610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461032790610c28565b80156103745780601f1061034957610100808354040283529160200191610374565b820191906000526020600020905b81548152906001019060200180831161035757829003601f168201915b50505091835250506004820154602082015260058201546040820152600682015460609091019060ff1660028111156103af576103af610934565b60028111156103c0576103c0610934565b90525092915050565b6000546001600160a01b031633146103f35760405162461bcd60e51b815260040161019290610c62565b6001548111156104155760405162461bcd60e51b815260040161019290610bff565b600081815260026020908152604091829020600601805460ff19166001179055905133815282917f4b1ba33802ce330469edd735c6dda0c1a283dd954a17d8a3bf8836ee426ea0f8910160405180910390a250565b6000546001600160a01b031633146104945760405162461bcd60e51b815260040161019290610c62565b6001548211156104b65760405162461bcd60e51b815260040161019290610bff565b60008281526002602081815260409283902060058101859055600601805460ff1916909217909155905182815283917f6295ac759c076db61f2baff6c3a9b894fcab9d8f00b5fe1f22e337ee72495536910160405180910390a25050565b600260205260009081526040902080546001820180546001600160a01b03909216929161054090610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461056c90610c28565b80156105b95780601f1061058e576101008083540402835291602001916105b9565b820191906000526020600020905b81548152906001019060200180831161059c57829003601f168201915b5050505050908060020180546105ce90610c28565b80601f01602080910402602001604051908101604052809291908181526020018280546105fa90610c28565b80156106475780601f1061061c57610100808354040283529160200191610647565b820191906000526020600020905b81548152906001019060200180831161062a57829003601f168201915b50505050509080600301805461065c90610c28565b80601f016020809104026020016040519081016040528092919081815260200182805461068890610c28565b80156106d55780601f106106aa576101008083540402835291602001916106d5565b820191906000526020600020905b8154815290600101906020018083116106b857829003601f168201915b50505050600483015460058401546006909401549293909290915060ff1687565b6001805490600061070683610c8d565b90915550506040805160e081018252338152602081018690529081018490526060810183905242608082015260a0810182905260c0810160009052600180546000908152600260209081526040909120835181546001600160a01b0319166001600160a01b039091161781559083015190918201906107859082610d03565b506040820151600282019061079a9082610d03565b50606082015160038201906107af9082610d03565b506080820151600482015560a0820151600582015560c082015160068201805460ff191660018360028111156107e7576107e7610934565b0217905550506001546040513392507f52123f5d858f84e2b97af25fb8d16a9b34b5efad3f2ec70bf6283761224bbcd7906108259087908690610dc3565b60405180910390a350505050565b6000546001600160a01b0316331461085d5760405162461bcd60e51b815260040161019290610c62565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6040518060e0016040528060006001600160a01b031681526020016060815260200160608152602001606081526020016000815260200160008152602001600060028111156108d0576108d0610934565b905290565b6000602082840312156108e757600080fd5b5035919050565b6000815180845260005b81811015610914576020818501810151868301820152016108f8565b506000602082860101526020601f19601f83011685010191505092915050565b634e487b7160e01b600052602160045260246000fd5b6003811061096857634e487b7160e01b600052602160045260246000fd5b9052565b602080825282516001600160a01b03168282015282015160e0604083015260009061099b6101008401826108ee565b90506040840151601f19808584030160608601526109b983836108ee565b92506060860151915080858403016080860152506109d782826108ee565b915050608084015160a084015260a084015160c084015260c0840151610a0060e085018261094a565b509392505050565b60008060408385031215610a1b57600080fd5b50508035926020909101359150565b6001600160a01b038816815260e060208201819052600090610a4e908301896108ee565b8281036040840152610a6081896108ee565b90508281036060840152610a7481886108ee565b9150508460808301528360a0830152610a9060c083018461094a565b98975050505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610ac357600080fd5b813567ffffffffffffffff80821115610ade57610ade610a9c565b604051601f8301601f19908116603f01168101908282118183101715610b0657610b06610a9c565b81604052838152866020858801011115610b1f57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060008060808587031215610b5557600080fd5b843567ffffffffffffffff80821115610b6d57600080fd5b610b7988838901610ab2565b95506020870135915080821115610b8f57600080fd5b610b9b88838901610ab2565b94506040870135915080821115610bb157600080fd5b50610bbe87828801610ab2565b949793965093946060013593505050565b600060208284031215610be157600080fd5b81356001600160a01b0381168114610bf857600080fd5b9392505050565b6020808252600f908201526e496e76616c69642063617073756c6560881b604082015260600190565b600181811c90821680610c3c57607f821691505b602082108103610c5c57634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252601190820152704f6e6c792056657269747573206e6f646560781b604082015260600190565b600060018201610cad57634e487b7160e01b600052601160045260246000fd5b5060010190565b601f821115610cfe57600081815260208120601f850160051c81016020861015610cdb5750805b601f850160051c820191505b81811015610cfa57828155600101610ce7565b5050505b505050565b815167ffffffffffffffff811115610d1d57610d1d610a9c565b610d3181610d2b8454610c28565b84610cb4565b602080601f831160018114610d665760008415610d4e5750858301515b600019600386901b1c1916600185901b178555610cfa565b600085815260208120601f198616915b82811015610d9557888601518255948401946001909101908401610d76565b5085821015610db35787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000610dd660408301856108ee565b9050826020830152939250505056fea2646970667358221220cf1fa65b587ec2911ac647af3d6ffe596f5bad4376d586eacfe06f476f128c9664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
