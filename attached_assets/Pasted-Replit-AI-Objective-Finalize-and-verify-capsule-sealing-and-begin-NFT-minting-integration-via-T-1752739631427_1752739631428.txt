Replit AI:
üß† Objective:
Finalize and verify capsule sealing and begin NFT minting integration via Thirdweb.

üü£ Next Instructions for Replit AI:
Please run the following development instructions inside the Replit project:

1. ‚úÖ Ensure Capsule Veritas Seal Workflow is Live
Confirm this flow is fully functional:

/api/veritas/seal:

Accepts: capsuleId, userEmail

Generates a PDF capsule summary

Sends it to DocuSign using stored DOCUSIGN_* secrets

Saves the docusignEnvelopeId, veritasSealUrl, and sealedAt back into Supabase

2. ‚úÖ Frontend: Update Capsule Card
Ensure all sealed capsules show the following on their cards:

tsx
Copy
Edit
{capsule.veritasSealUrl && (
  <span className="badge badge-purple">Sealed with Veritas</span>
)}
And optionally allow viewing the Veritas PDF:

tsx
Copy
Edit
<a href={capsule.veritasSealUrl} target="_blank" rel="noopener noreferrer">
  View Seal Certificate
</a>
3. ‚úÖ Begin Capsule NFT Minting via Thirdweb
Create /api/mint that:

Accepts capsuleId

Fetches capsule metadata from Supabase

Prepares NFT metadata (title, description, sealedAt, veritasSealUrl, etc.)

Uploads metadata to IPFS (via Pinata using PINATA_* or THIRDWEB_SECRET)

Uses Thirdweb SDK and NEXT_PUBLIC_THIRDWEB_CLIENT_ID to mint NFT to connected wallet

4. ‚öôÔ∏è Update Supabase Capsule Row with NFT URL
Once minted, store:

mintedNftUrl

mintedAt timestamp

5. üß™ Add NFT Mint Test Button on Capsule Card
Under Create Capsule, add:

tsx
Copy
Edit
<button onClick={() => mintCapsule(capsule.id)}>
  Mint as NFT
</button>
mintCapsule() will call /api/mint with the capsuleId.

6. üîê Use Stored Secrets:
Ensure all integrations are using these app secrets correctly:

DOCUSIGN_*

THIRDWEB_SECRET

PINATA_*

SUPABASE_SERVICE_ROLE_KEY

Optional:
If DocuSign seal is not yet completed, minting should be blocked and show this message:

‚ùå "You must seal this capsule with Veritas before minting as NFT."

Once Replit AI completes this, I‚Äôll help you test it and guide the next step for TruthYield token rewards logic (GTT). Let me know when this is done or if any error comes up!