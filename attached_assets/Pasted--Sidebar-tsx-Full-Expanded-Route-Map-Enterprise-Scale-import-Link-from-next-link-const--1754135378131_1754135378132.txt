// Sidebar.tsx — Full Expanded Route Map (Enterprise-Scale)
import Link from "next/link";

const allRoutes = [
  {
    name: "🧭 Dashboard",
    href: "/admin",
    roles: ["admin", "dao-owner"],
    description: "Access capsule metrics, DAO tools, and admin controls"
  },
  {
    name: "📦 Capsules",
    href: "/capsules",
    roles: ["guest", "member", "admin"],
    description: "View and explore memory capsules from the chain"
  },
  {
    name: "🔁 Replay Capsule",
    href: "/replay",
    roles: ["guest", "member", "admin"],
    description: "Replay sealed memories and trigger yield generation"
  },
  {
    name: "🧬 Mint Capsule NFT",
    href: "/mint",
    roles: ["member", "admin"],
    description: "Mint your sealed capsule as a tradable Veritas NFT"
  },
  {
    name: "🏛 DAO Governance",
    href: "/dao",
    roles: ["dao-owner"],
    description: "Propose and vote on config and policy decisions"
  },
  {
    name: "📈 Analytics",
    href: "/analytics",
    roles: ["admin", "dao-owner"],
    description: "Visualize capsule replays, user growth, and usage"
  },
  {
    name: "🚨 Moderation Logs",
    href: "/moderation",
    roles: ["admin"],
    description: "Review AI-flagged capsule submissions"
  },
  {
    name: "💰 Yield Tracker",
    href: "/yield",
    roles: ["admin", "dao-owner"],
    description: "Track GTT earnings and replay-based yield"
  },
  {
    name: "🧪 AI Insights",
    href: "/insights",
    roles: ["admin", "member"],
    description: "View capsule emotion tags and AI summaries"
  },
  {
    name: "📜 Metadata Feed",
    href: "/metadata",
    roles: ["admin", "member"],
    description: "View capsule NFT metadata and Veritas claims"
  },
  {
    name: "🧰 Developer SDK",
    href: "/sdk",
    roles: ["admin", "member"],
    description: "Tools and functions for external integrations"
  },
  {
    name: "🌍 Language Settings",
    href: "/settings/language",
    roles: ["guest", "member", "admin"],
    description: "Choose your language and localization options"
  },
  {
    name: "🔐 Account Settings",
    href: "/settings/account",
    roles: ["guest", "member", "admin"],
    description: "Manage your profile, email, and authentication"
  },
  {
    name: "🎁 Earn GTT",
    href: "/earn",
    roles: ["member", "guest"],
    description: "Refer others and claim bonus GTT from capsule use"
  }
];

const Sidebar = ({ userTier = "guest" }: { userTier?: string }) => {
  return (
    <aside className="w-64 bg-white border-r hidden md:block">
      <div className="p-4 font-extrabold text-xl tracking-tight text-indigo-700">GuardianChain</div>
      <ul className="space-y-3">
        {allRoutes
          .filter((r) => r.roles.includes(userTier))
          .map((route) => (
            <li key={route.name} className="px-4 py-2 hover:bg-gray-50">
              <Link href={route.href}>
                <div>
                  <div className="font-medium text-gray-800">{route.name}</div>
                  <div className="text-xs text-gray-500 leading-tight">{route.description}</div>
                </div>
              </Link>
            </li>
          ))}
      </ul>
    </aside>
  );
};

export default Sidebar;
