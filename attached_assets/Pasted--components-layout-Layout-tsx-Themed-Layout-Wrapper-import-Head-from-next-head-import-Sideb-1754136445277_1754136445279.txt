// components/layout/Layout.tsx â€” Themed Layout Wrapper
import Head from "next/head";
import Sidebar from "./Sidebar";
import Breadcrumbs from "./Breadcrumbs";
import MobileDrawer from "./MobileDrawer";
import TopbarCommandMenu from "./TopbarCommandMenu";
import PWAInstallButton from "../PWAInstallButton";

export default function Layout({ children, title = "GuardianChain", tier = "guest" }) {
  return (
    <div className="min-h-screen bg-brand-secondary text-brand-textLight font-brand">
      <Head>
        <title>{title}</title>
        <meta name="theme-color" content="#3b82f6" />
        <link rel="manifest" href="/manifest.json" />
      </Head>
      <div className="flex">
        <Sidebar userTier={tier} />
        <MobileDrawer tier={tier} />
        <main className="flex-1">
          <div className="flex justify-between items-center px-6 pt-4">
            <Breadcrumbs />
            <TopbarCommandMenu tier={tier} />
          </div>
          <div className="px-6 pb-10">
            {children}
            <div className="mt-8">
              <PWAInstallButton />
            </div>
          </div>
        </main>
      </div>
    </div>
  );
}


// components/layout/PageHeader.tsx â€” Unified Title Section
export default function PageHeader({ title, subtitle }) {
  return (
    <div className="mb-6">
      <h1 className="text-3xl font-extrabold text-brand-primary">{title}</h1>
      {subtitle && <p className="text-sm text-brand-highlight mt-1 italic">{subtitle}</p>}
    </div>
  );
}


// Usage example in any page (e.g. /mint.tsx)
import Layout from "@/components/layout/Layout";
import PageHeader from "@/components/layout/PageHeader";

export default function MintPage() {
  return (
    <Layout title="Mint Capsule NFT" tier="member">
      <PageHeader
        title="ðŸ§¬ Mint Capsule NFT"
        subtitle="Tokenize your sealed truth for permanent verifiability"
      />
      {/* ... mint logic ... */}
    </Layout>
  );
}
